<% content_for :title, @checklist.title %>
<h1> <%= @checklist.title %> </h1>
<h3> <%= @checklist.description %> </h3>
<%= link_to 'Edit', edit_checklist_path(@checklist)%> | 
<%= link_to 'Back', checklists_path %>


<h2> Prerequisites </h2>
<% if @prereqs.size > 0 %>
  <ul>
  <% @prereqs.each do |item| %>
    <li> <%= item.content %> <%= link_to "Edit",edit_checklist_item_path(@checklist, item) %> | 
    <%= link_to 'Delete', checklist_item_path(@checklist, item), method: :delete, data: { confirm: 'Are you sure?' } %>
    </li>
  <% end %>
  </ul>
<% else %>
  <p> There are no prerequisites. </p>
<% end %>

<h2> ToDo's </h2>
<% if @todos.size > 0 %>
  <%= form_for(@checklist, :url => complete_checklist_items_path(@checklist), :method => "post") do %>
    <ul style="list-style-type:none;">
    <% @todos.each do |item| %>
        
        <% if item.is_complete %>
          <li style="color:grey;"> <%= check_box_tag  "items_checkbox[]",item.id, item.is_complete %>
          <strike> <%= item.content %> </strike> 
          
          <%= link_to "Edit",edit_checklist_item_path(@checklist, item) %> | 
          <%= link_to 'Delete', checklist_item_path(@checklist, item), method: :delete, data: { confirm: 'Are you sure?' } %>
          </li>
        <% else %>
          <li>  <%= check_box_tag  "items_checkbox[]",item.id, item.is_complete %>
          <%= item.content %>
          <%= link_to "Edit",edit_checklist_item_path(@checklist, item) %> | 
          <%= link_to 'Delete', checklist_item_path(@checklist, item), method: :delete, data: { confirm: 'Are you sure?' } %>
          </li>
        <% end %>
    <% end %>
    <%= submit_tag("Submit", :class=>"btn btn-success") %> 

    </ul>
  <% end %>
<% else %>
  <p> There are no todos. </p>
<% end %>



<%= render "items/form" %>

<!--
<h2> Prerequisites: </h2>
<h2> ToDo's: <h2>-->
